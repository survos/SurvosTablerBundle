{# templates/components/layout/js-libs.html.twig v4.8 #}
{% if pageLibs -%}
{% capture libsCode -%}
{% for lib in libs -%}
{% if lib[0] in pageLibs and lib[1].head == head -%}
{% for file in lib[1].js -%}
<script src="{% if 'http://' in file or 'https://' in file %}{{ file | replace: 'GOOGLE_MAPS_KEY', googleMapsKey }}{% else %}{{ page | relative }}/dist/libs/{{ lib[1].npm }}/{{ file }}{% if environment != 'development' %}?{{ 'now' | date('%s') }}{% endif %}{% endif %}" defer></script>
{% endfor -%}
{% endif -%}
{% endfor -%}
{%- endset -%}

{%- set libsCode = libsCode | trim -%}
{% if libsCode != "" -%}
<!-- BEGIN PAGE LIBRARIES -->
{{ libsCode }}
<!-- END PAGE LIBRARIES -->
{% endif -%}
{% endif -%}

{#
=== Original Liquid (js-libs.html) ===
{% if page-libs -%}
{% capture libs-code -%}
{% for lib in libs -%}
{% if page-libs contains lib[0] and lib[1].head == include.head -%}
{% for file in lib[1].js -%}
<script src="{% if file contains 'http://' or file contains 'https://' %}{{ file | replace: 'GOOGLE_MAPS_KEY', google-maps-key }}{% else %}{{ page | relative }}/dist/libs/{{ lib[1].npm }}/{{ file }}{% if environment != 'development' %}?{{ 'now' | date: '%s' }}{% endif %}{% endif %}" defer></script>
{% endfor -%}
{% endif -%}
{% endfor -%}
{% endcapture -%}


{% assign libs-code = libs-code | strip -%}
{% if libs-code != "" -%}
<!-- BEGIN PAGE LIBRARIES -->
{{ libs-code }}
<!-- END PAGE LIBRARIES -->
{% endif -%}
{% endif -%}
#}