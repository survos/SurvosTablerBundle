{# @SurvosTabler/menu/auth.html.twig - User dropdown menu #}
{% extends '@KnpMenu/menu.html.twig' %}

{% block root %}
<div class="nav-item dropdown">
    <a href="#" class="nav-link d-flex lh-1 text-reset p-0" data-bs-toggle="dropdown" aria-label="Open user menu">
        <span class="avatar avatar-sm">{{ ux_icon('tabler:user') }}</span>
    </a>
    <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
        {{ block('children') }}
    </div>
</div>
{% endblock %}

{% block item %}
{% if item.displayed %}
    {% set icon = item.getExtra('icon') %}
    {% set divider = item.getExtra('divider') %}
    
    {% if divider %}
        <div class="dropdown-divider"></div>
    {% else %}
        <a class="dropdown-item" href="{{ item.uri }}">
            {% if icon %}{{ ux_icon('tabler:' ~ icon, {class: 'icon dropdown-item-icon'}) }}{% endif %}
            {{ block('label') }}
        </a>
    {% endif %}
{% endif %}
{% endblock %}

{% block label %}
{%- set translation_domain = item.extra('translation_domain', 'messages') -%}
{%- if translation_domain is not same as(false) -%}
    {{ item.label|trans({}, translation_domain) }}
{%- else -%}
    {{ item.label }}
{%- endif -%}
{% endblock %}
